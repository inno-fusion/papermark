# =============================================================================
# DocRoom Docker Environment Variables
# Copy this file to .env and configure for your deployment
# =============================================================================

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
POSTGRES_USER=docroom
POSTGRES_PASSWORD=your-secure-password-here
POSTGRES_DB=docroom

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
# Generate with: openssl rand -hex 32
NEXTAUTH_SECRET=your-nextauth-secret-here

# -----------------------------------------------------------------------------
# Application URLs
# IMPORTANT: These must match your actual deployment domain
# -----------------------------------------------------------------------------
NEXT_PUBLIC_BASE_URL=https://docs.yourdomain.com
NEXT_PUBLIC_MARKETING_URL=https://yourdomain.com
NEXT_PUBLIC_APP_BASE_HOST=docs.yourdomain.com
NEXT_PUBLIC_APP_DOMAIN=docs.yourdomain.com

# -----------------------------------------------------------------------------
# Self-Hosted Mode (enables all features)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_SELFHOSTED=1

# Set to "true" to disable new user signups
NEXT_PUBLIC_DISABLE_SIGNUP=false

# -----------------------------------------------------------------------------
# Storage Configuration (S3)
# -----------------------------------------------------------------------------
NEXT_PUBLIC_UPLOAD_TRANSPORT=s3

# S3 bucket configuration
NEXT_PRIVATE_UPLOAD_ENDPOINT=http://localhost:9000  # keep blank for AWS S3
NEXT_PRIVATE_UPLOAD_BUCKET=your-bucket-name
NEXT_PRIVATE_UPLOAD_REGION=us-east-1
NEXT_PRIVATE_UPLOAD_ACCESS_KEY_ID=your-access-key-id
NEXT_PRIVATE_UPLOAD_SECRET_ACCESS_KEY=your-secret-access-key

# Optional: Custom S3 endpoint (for MinIO, DigitalOcean Spaces, etc.)
# NEXT_PRIVATE_UPLOAD_ENDPOINT=https://your-s3-endpoint.com

# The host for serving files (S3 bucket URL or CloudFront distribution)
NEXT_PRIVATE_UPLOAD_DISTRIBUTION_HOST=your-bucket-name.s3.us-east-1.amazonaws.com

# Optional: Advanced upload bucket (defaults to main bucket)
# NEXT_PRIVATE_ADVANCED_UPLOAD_BUCKET=your-bucket-name

# Optional: CloudFront configuration
# NEXT_PRIVATE_UPLOAD_DISTRIBUTION_DOMAIN=your-distribution.cloudfront.net
# NEXT_PRIVATE_UPLOAD_DISTRIBUTION_KEY_ID=your-cloudfront-key-id
# NEXT_PRIVATE_UPLOAD_DISTRIBUTION_KEY_CONTENTS=-----BEGIN RSA PRIVATE KEY-----...

# -----------------------------------------------------------------------------
# Email Configuration (Choose ONE)
# -----------------------------------------------------------------------------

# Option 1: SMTP (Recommended for self-hosting)
SMTP_HOST=smtp.your-provider.com
SMTP_PORT=587
SMTP_USER=your-smtp-user
SMTP_PASSWORD=your-smtp-password

# Option 2: Resend (Cloud email service)
# RESEND_API_KEY=re_xxxxx

# Sender email addresses
EMAIL_FROM=DocRoom <noreply@yourdomain.com>
# EMAIL_FROM_MARKETING=Marketing <marketing@yourdomain.com>
# EMAIL_FROM_SYSTEM=DocRoom <system@yourdomain.com>

# Support email (shown in contact support buttons)
# NEXT_PUBLIC_SUPPORT_EMAIL=support@yourdomain.com

# -----------------------------------------------------------------------------
# Security Keys
# Generate with: openssl rand -hex 32
# -----------------------------------------------------------------------------
NEXT_PRIVATE_DOCUMENT_PASSWORD_KEY=your-document-password-key
INTERNAL_API_KEY=your-internal-api-key

# -----------------------------------------------------------------------------
# Google OAuth (Optional)
# Create at: https://console.cloud.google.com/apis/credentials
# -----------------------------------------------------------------------------
# GOOGLE_CLIENT_ID=your-google-client-id
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# -----------------------------------------------------------------------------
# Slack Integration (Optional)
# Create app at: https://api.slack.com/apps
# Configure OAuth redirect: {BASE_URL}/api/integrations/slack/oauth/callback
# Required scopes: channels:read, chat:write, chat:write.public, groups:read, team:read, users:read
# -----------------------------------------------------------------------------
# SLACK_CLIENT_ID=your-slack-client-id
# SLACK_CLIENT_SECRET=your-slack-client-secret
# SLACK_APP_INSTALL_URL=https://slack.com/oauth/v2/authorize?client_id=YOUR_CLIENT_ID&scope=channels:read,chat:write,chat:write.public,groups:read,team:read,users:read
SLACK_INTEGRATION_ID=clslackintegration0x
# NEXT_PRIVATE_SLACK_ENCRYPTION_KEY=your-slack-encryption-key

# -----------------------------------------------------------------------------
# Gotenberg (Document Conversion Service)
# Used internally for Office -> PDF conversion
# Exposed externally with basic auth for additional uses
# -----------------------------------------------------------------------------
GOTENBERG_USERNAME=gotenberg
GOTENBERG_PASSWORD=your-secure-gotenberg-password
GOTENBERG_PORT=3001

# -----------------------------------------------------------------------------
# Document Conversion (Optional - CloudConvert for CAD/Keynote files)
# -----------------------------------------------------------------------------
# NEXT_PRIVATE_CONVERT_API_URL=https://api.cloudconvert.com/v2
# NEXT_PRIVATE_CONVERT_API_KEY=your-cloudconvert-api-key

# -----------------------------------------------------------------------------
# Verification (Optional)
# -----------------------------------------------------------------------------
# NEXT_PRIVATE_VERIFICATION_SECRET=your-verification-secret

# -----------------------------------------------------------------------------
# Webhooks (Optional)
# -----------------------------------------------------------------------------
# NEXT_PUBLIC_WEBHOOK_BASE_URL=https://webhooks.yourdomain.com
# NEXT_PUBLIC_WEBHOOK_BASE_HOST=webhooks.yourdomain.com

# -----------------------------------------------------------------------------
# Database Seeding (Auto-detected)
# The container automatically detects fresh databases and seeds them.
# Only set RUN_SEED=true if you need to force re-seeding.
# -----------------------------------------------------------------------------
# RUN_SEED=false
